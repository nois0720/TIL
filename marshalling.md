# Marshalling (마샬링)

오늘 회사에서 마샬링이란 단어를 들었는데, 다소 생소한 용어라 정리하게 되었다.

`Marshalling`이라는 단어의 사전적 의미는 선박에서 양하된 컨테이너를 부두 밖으로 수송하기 위해서 혹은 컨테이너를 선박에 싣기 위해 부두 내에서 이동, 정렬하거나 잠시 대기시키는 것을 말한다고 한다. 즉, 컨테이너들을 다른 장소로 보내기 위해서 순서를 잘 정리한다는 뜻이다. 

그래서 컴퓨터 사이언스에서 마샬링은 메모리에 있는 어떠한 객체의 메모리 구조를 저장하거나 전송하기 위해 적당한 자료형으로 변형하는것을 의미한다고 한다. 그래서 보통 다른 환경의 컴퓨터나 다른 프로그램간에 데이터의 이동이 필요할 경우 사용된다고 한다. 예를 들면 컴퓨터 A에서는 Little Endian으로 데이터를 정렬하고, 컴퓨터 B에서는 Big Endian으로 데이터를 정렬한다고 하자. A에서 B로의 데이터 전송 시 B가 정확히 이해할 수 있게 Big Endian으로 데이터를 변형해 주어야 한다. 마샬링을 수행함으로써 복잡한 통신, 사용자 정의/복잡한 구조의 객체들을 사용하는 대신에 단순한 primitive타입 등을 사용할 수 있다. Marshalling의 반댓말은 Unmarshalling이다.

## Serialization

반면 `Serialization`은 객체의 상태를 저장하기 위해 객체를 byte stream으로 변환하는 것을 의미한다. 반대는 `Deserialization`이다.

## Marshalling vs Serialization

위키피디아에 따르면 파이썬 표준라이브러리에서는 동일하게 간주된다고 한다. 반면 자바에서는 구분을 하는데 뭐가 다른걸까? `Marshalling`은 코드베이스를 기록하지만 `Serialization`은 하지 않는다. 즉 RPC(Remote Procedure Call)를 한다는 점에서 유사하지만 목적 자체가 다르다는 것을 의미한다. Marshalling의 경우, RPC를 수행할때 함수의 파라미터, 리턴값을 전달할 수 있지만 Serialization은 구조화된 데이터를 byte stream과 같은 형식으로 복사하는 것을 의미한다고 한다.

솔직히 정확히 둘의 차이점은 모르겠지만 Serialization은 객체 자체를 복사하는 개념이라면 Marshalling은 코드베이스를 가져와 만드는 개념이라고 할 수 있겠다. 그래서 객체를 이용하지 않는 다른 언어나 플래솜간의 통신이 필요하면 주로 Marshalling을 한다. 반면 네트워크나 객체의 경우 Serialization을 많이 이용한다.
