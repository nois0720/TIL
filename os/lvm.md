# LVM (Logical Volumn Manager)

우분투 설치 중 파티션 방법에 LVM설정이 있는 것을 보고 LVM이 뭘까 하는 생각에 찾아보게 되었다. 보통, 파티션을 나눌 때 얼마만큼 공간을 할당할 지 결정하는 일은 쉽지 않다. 그래서 우리는 파티션간 심볼링크를 걸거나 parted와 같은 파티션 크기조정 툴을 사용하는 등의 방법을 사용하여 이 문제를 해결하기도 한다. 하지만 이러한 방법은 일시적인 해결방법일 뿐, 곧 다시 이러한 문제에 직면하게 된다.

기존의 파일시스템은 block device에 직접 read/write했다. LVM은 이 사이에 놓여 파일 시스템이 가상의 block device장치에 read/write를 하도록 한다. 즉, 추상적 레이어를 하나 생성해서 Logical Storage를 생성할 수 있게 하는 방법이다. 이는 직접적으로 Physical Storage를 사용하는것보다 다양한 측면에서 유연성을 제공한다.

* 관리가 쉬워진다
* 서로 다른 디바이스간 조합
* 저장 장치로의 직관적인 접근
* 뛰어난 확장성
* 그럼에도 안정성, 효율 나쁘지 않다
* 스냅샷 기능 지원

LVM을 쓰면, 간단한 명령어로 파티션의 용량을 확장, 축소할 수 있다. 또한 리눅스의 경우에 자동으로 LVM 구성을 제공한다. 비교적 적은 비용으로 중소형 서버에서 대용량 저장 장치를 구현하는 것이 가능하다. 유지보수에서 이점이 크다.

하지만 이와 같은 장점이 필요없는 환경의 서버를 구축할 때에는 LVM의 사용을 가급적이면 자제하라고 한다. 왜냐하면 여러 파티션이 LVM으로 묶여 있는 상태에서는 파일이 손상되었을 때 복구시간이 길어지고, 때문에 부팅이 많이 지연되거나 아예 부팅이 안되는 심각한 경우도 있기 때문이라고 한다.
